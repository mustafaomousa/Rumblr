[{"/Users/mustafamousa/Projects/Rumblr/frontend/src/index.js":"1","/Users/mustafamousa/Projects/Rumblr/frontend/src/App.js":"2","/Users/mustafamousa/Projects/Rumblr/frontend/src/store/csrf.js":"3","/Users/mustafamousa/Projects/Rumblr/frontend/src/store/session.js":"4","/Users/mustafamousa/Projects/Rumblr/frontend/src/store/post.js":"5","/Users/mustafamousa/Projects/Rumblr/frontend/src/store/index.js":"6","/Users/mustafamousa/Projects/Rumblr/frontend/src/store/user.js":"7","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/LoginFormPage/index.js":"8","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/DiscoverPage/index.js":"9","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/Navigation/index.js":"10","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/WelcomePage/index.js":"11","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/SignupFormPage/index.js":"12","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/AboutUsPage/index.js":"13","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/CreatePost/index.js":"14","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/PostCard/index.js":"15","/Users/mustafamousa/Projects/Rumblr/frontend/src/aws/s3.js":"16","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/ProfileDrawer/index.js":"17"},{"size":1042,"mtime":1633891798490,"results":"18","hashOfConfig":"19"},{"size":1294,"mtime":1633893402933,"results":"20","hashOfConfig":"19"},{"size":787,"mtime":1633891798490,"results":"21","hashOfConfig":"19"},{"size":1691,"mtime":1633895346928,"results":"22","hashOfConfig":"19"},{"size":2553,"mtime":1633908664502,"results":"23","hashOfConfig":"19"},{"size":786,"mtime":1633901723093,"results":"24","hashOfConfig":"19"},{"size":611,"mtime":1633891798491,"results":"25","hashOfConfig":"19"},{"size":2862,"mtime":1633891798487,"results":"26","hashOfConfig":"19"},{"size":1156,"mtime":1633912104407,"results":"27","hashOfConfig":"19"},{"size":3884,"mtime":1633891798487,"results":"28","hashOfConfig":"19"},{"size":863,"mtime":1633891798490,"results":"29","hashOfConfig":"19"},{"size":3173,"mtime":1633891798488,"results":"30","hashOfConfig":"19"},{"size":1408,"mtime":1633891798486,"results":"31","hashOfConfig":"19"},{"size":2678,"mtime":1633912129533,"results":"32","hashOfConfig":"19"},{"size":2318,"mtime":1633908804871,"results":"33","hashOfConfig":"19"},{"size":323,"mtime":1633891798486,"results":"34","hashOfConfig":"19"},{"size":3340,"mtime":1633908855477,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"sdhkcj",{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"38"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"38"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"38"},"/Users/mustafamousa/Projects/Rumblr/frontend/src/index.js",[],["77","78"],"/Users/mustafamousa/Projects/Rumblr/frontend/src/App.js",["79"],"import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Navigation from \"./components/Navigation\";\nimport LoginFormPage from \"./components/LoginFormPage\";\nimport SignupFormPage from \"./components/SignupFormPage\";\nimport DiscoverPage from \"./components/DiscoverPage\";\nimport * as sessionActions from \"./store/session\";\nimport WelcomePage from \"./components/WelcomePage\";\nimport AboutUsPage from \"./components/AboutUsPage\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    dispatch(sessionActions.restoreUser()).then(() => setIsLoaded(true));\n  }, [dispatch]);\n\n  const user = useSelector((state) => state.session.user);\n\n  return (\n    <>\n      <Navigation />\n      {isLoaded && (\n        <Switch>\n          <Route exact path=\"/\" component={WelcomePage} />\n          <Route path=\"/about-us\" component={AboutUsPage} />\n          <Route exact path=\"/discover\" component={DiscoverPage} />\n          <Route exact path=\"/results\" />\n          <Route path=\"/login\" component={LoginFormPage} />\n          <Route path=\"/signup\" component={SignupFormPage} />\n        </Switch>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","/Users/mustafamousa/Projects/Rumblr/frontend/src/store/csrf.js",[],"/Users/mustafamousa/Projects/Rumblr/frontend/src/store/session.js",[],"/Users/mustafamousa/Projects/Rumblr/frontend/src/store/post.js",["80"],"import { fetch } from \"./csrf\";\n\nconst LOAD_POSTS = \"post/getAllPosts\";\nconst ADD_POST = \"post/createNewPost\";\nconst DELETE_POST = \"post/deletePost\";\nconst UPDATE_POST = \"post/updatePost\";\n\nconst getAllPosts = (posts) => {\n  return {\n    type: LOAD_POSTS,\n    payload: posts,\n  };\n};\n\nconst addNewPost = (post) => {\n  return {\n    type: ADD_POST,\n    payload: post,\n  };\n};\n\nconst deleteUserPost = (postId) => {\n  return {\n    type: DELETE_POST,\n    payload: postId,\n  };\n};\n\nconst updateUserPost = (post) => {\n  return {\n    type: UPDATE_POST,\n    payload: post,\n  };\n};\n\nexport const updatePost =\n  ({ tags, postId, title, body }) =>\n  async (dispatch) => {\n    const response = await fetch(`/api/posts`, {\n      method: \"PUT\",\n      body: JSON.stringify({ tags, postId, title, body }),\n    });\n\n    if (response.ok) {\n      dispatch(getPosts());\n    }\n  };\n\nexport const deletePost =\n  ({ postId }) =>\n  async (dispatch) => {\n    const response = await fetch(`/api/posts`, {\n      method: \"DELETE\",\n      body: JSON.stringify({ postId }),\n    });\n\n    if (response.ok && response.data.deleted) {\n      dispatch(deleteUserPost(postId));\n    }\n  };\n\nexport const getPosts = (limit, userId) => async (dispatch) => {\n  const response = await fetch(`/api/posts?limit=${limit}&userId=${userId}`);\n  if (response.ok) {\n    dispatch(getAllPosts(response.data.posts));\n    console.log(response.data.posts);\n    return response;\n  }\n};\n\nexport const createNewPost = (payload) => async (dispatch) => {\n  const { content, body, tags, userId } = payload;\n  const response = await fetch(\"/api/posts\", {\n    method: \"POST\",\n    body: JSON.stringify({ content, body, tags, userId }),\n  });\n\n  if (response.ok) {\n    dispatch(addNewPost(response.data.newPost));\n    console.log(response.data);\n    return response;\n  }\n};\n\nconst initialState = {};\n\nconst postReducer = (state = initialState, action) => {\n  let newState;\n  switch (action.type) {\n    case LOAD_POSTS:\n      newState = { ...state };\n      action.payload.map((post) => (newState[\"_\" + post.id] = post));\n      return newState;\n    case ADD_POST:\n      newState = Object.assign(\n        { [\"_\" + action.payload.id]: action.payload },\n        state\n      );\n      return newState;\n    case UPDATE_POST:\n      newState = { ...state };\n      newState[\"_\" + action.payload.id] = action.payload;\n      return newState;\n    case DELETE_POST:\n      newState = { ...state };\n      delete newState[\"_\" + action.payload];\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default postReducer;\n","/Users/mustafamousa/Projects/Rumblr/frontend/src/store/index.js",[],"/Users/mustafamousa/Projects/Rumblr/frontend/src/store/user.js",[],"/Users/mustafamousa/Projects/Rumblr/frontend/src/components/LoginFormPage/index.js",["81","82","83"],"import { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport {\n  Card,\n  CardContent,\n  Button,\n  TextField,\n  CardHeader,\n  Typography,\n  CardActions,\n  Input,\n  Avatar,\n  Alert,\n} from \"@mui/material\";\nimport \"./login.css\";\n\nimport * as sessionActions from \"../../store/session\";\nimport { Box } from \"@mui/system\";\n\nconst LoginFormPage = ({ switchToSignup }) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const sessionUser = useSelector((state) => state.session.user);\n  const [credential, setCredential] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  const updateCredential = (e) => setCredential(e.target.value);\n  const updatePassword = (e) => setPassword(e.target.value);\n\n  if (sessionUser) return <Redirect to=\"/discover\" />;\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    setErrors([]);\n\n    dispatch(sessionActions.login(credential, password)).catch((res) => {\n      setErrors(res.data.errors);\n    });\n\n    // return history.push(\"/discover\");\n  };\n\n  const demoLogin = async (e) => {\n    e.preventDefault();\n    setErrors([]);\n    let demoCredential = \"demo-user\";\n    let demoPassword = \"password\";\n    dispatch(sessionActions.login(demoCredential, demoPassword)).catch(\n      (res) => {\n        if (res.data && res.data.errors) setErrors(res.data.errors);\n      }\n    );\n\n    // return history.push(\"/discover\");\n  };\n\n  return (\n    <Card className=\"LoginFormPage\">\n      <CardHeader\n        align=\"center\"\n        subheader=\"Log in\"\n        title={\n          <Typography\n            sx={{ fontSize: \"50px\", color: \"#301934\", fontWeight: \"bolder\" }}\n          >\n            Rumblr\n          </Typography>\n        }\n      />\n      <CardContent>\n        <form className=\"LoginForm\">\n          <TextField\n            id=\"input\"\n            type=\"text\"\n            onChange={updateCredential}\n            value={credential}\n            label=\"username/email\"\n            required\n          />\n          <br />\n          <TextField\n            id=\"input\"\n            type=\"password\"\n            onChange={updatePassword}\n            value={password}\n            label=\"password\"\n            required\n          />\n        </form>\n        <Box sx={{ paddingTop: \"20px\" }}>\n          {errors &&\n            errors.map((error) => <Alert severity=\"error\">{error}</Alert>)}\n        </Box>\n      </CardContent>\n      <CardActions className=\"LoginFormFooter\">\n        <div>\n          <Button onClick={switchToSignup}>Switch to sign up</Button>\n        </div>\n        <div>\n          <Button onClick={onSubmit}>Log in</Button>\n          <Button onClick={demoLogin}>Demo</Button>\n        </div>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default LoginFormPage;\n","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/DiscoverPage/index.js",["84"],"/Users/mustafamousa/Projects/Rumblr/frontend/src/components/Navigation/index.js",[],"/Users/mustafamousa/Projects/Rumblr/frontend/src/components/WelcomePage/index.js",[],"/Users/mustafamousa/Projects/Rumblr/frontend/src/components/SignupFormPage/index.js",["85","86"],"import {\n  Avatar,\n  Card,\n  CardActions,\n  CardContent,\n  CardHeader,\n  TextField,\n  Typography,\n  Button,\n  Alert,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nimport * as sessionActions from \"../../store/session\";\n\nimport \"./signup.css\";\n\nconst SignupFormPage = ({ switchToLogin }) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  const updateUsername = (e) => setUsername(e.target.value);\n  const updateEmail = (e) => setEmail(e.target.value);\n  const updatedPassword = (e) => setPassword(e.target.value);\n  const updatedConfirmPassword = (e) => setConfirmPassword(e.target.value);\n\n  const sessionUser = useSelector((state) => state.session.user);\n  if (sessionUser) return <Redirect to=\"/discover\" />;\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    if (password === confirmPassword) {\n      setErrors([]);\n\n      const payload = {\n        email,\n        username,\n        password,\n      };\n\n      dispatch(sessionActions.signup(payload)).catch((res) => {\n        console.log(res);\n        setErrors(res.data.errors);\n      });\n    }\n\n    return setErrors([\n      \"Confirm Password field must be the same as the Password\",\n    ]);\n  };\n\n  return (\n    <Card className=\"SignupFormPage\">\n      <CardHeader\n        align=\"center\"\n        subheader=\"Sign up\"\n        title={\n          <Typography\n            sx={{ fontSize: \"50px\", color: \"#301934\", fontWeight: \"bolder\" }}\n          >\n            Rumblr\n          </Typography>\n        }\n      />\n      <CardContent>\n        <form className=\"SignupForm\">\n          <TextField\n            onChange={updateUsername}\n            value={username}\n            label=\"create a username\"\n            required\n          />\n          <br />\n          <TextField\n            onChange={updateEmail}\n            value={email}\n            label=\"enter email\"\n            required\n          />\n          <br />\n          <TextField\n            type=\"password\"\n            onChange={updatedPassword}\n            label=\"create a password\"\n            required\n          />\n          <br />\n          <TextField\n            type=\"password\"\n            onChange={updatedConfirmPassword}\n            label=\"confirm password\"\n            required\n          />\n        </form>\n        {errors && (\n          <Box sx={{ paddingTop: \"20px\" }}>\n            {errors.map((error) => (\n              <Alert severity=\"error\">{error}</Alert>\n            ))}\n          </Box>\n        )}\n      </CardContent>\n      <CardActions className=\"SignupFormFooter\">\n        <div>\n          <Button onClick={switchToLogin}>Switch to log in</Button>\n        </div>\n        <div>\n          <Button onClick={onSubmit}>Join</Button>\n        </div>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default SignupFormPage;\n","/Users/mustafamousa/Projects/Rumblr/frontend/src/components/AboutUsPage/index.js",[],"/Users/mustafamousa/Projects/Rumblr/frontend/src/components/CreatePost/index.js",["87","88"],"/Users/mustafamousa/Projects/Rumblr/frontend/src/components/PostCard/index.js",[],"/Users/mustafamousa/Projects/Rumblr/frontend/src/aws/s3.js",[],["89","90"],"/Users/mustafamousa/Projects/Rumblr/frontend/src/components/ProfileDrawer/index.js",["91"],"import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { TabContext, TabList, TabPanel } from \"@mui/lab\";\nimport \"./profile.css\";\nimport {\n  Avatar,\n  Card,\n  CardActions,\n  CardContent,\n  CardMedia,\n  Container,\n  Drawer,\n  IconButton,\n  Stack,\n  Tab,\n  Typography,\n} from \"@mui/material\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport SmartButtonIcon from \"@mui/icons-material/SmartButton\";\nimport { Box } from \"@mui/system\";\nimport { getUserProfile } from \"../../store/user\";\n\nconst ProfileDrawer = ({ userId, profileDrawerOpen, closeProfileDrawer }) => {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user.profile_user.user);\n  const posts = useSelector((state) => state.user.profile_user.posts);\n  const [tab, setTab] = useState(0);\n\n  const handleChange = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  useEffect(() => {\n    profileDrawerOpen && dispatch(getUserProfile(userId));\n  }, [profileDrawerOpen]);\n\n  return (\n    <Drawer\n      anchor=\"right\"\n      open={profileDrawerOpen}\n      onClose={closeProfileDrawer}\n    >\n      <Container\n        className=\"ProfileDrawer\"\n        sx={{\n          width: \"500px\",\n          margin: \"0px -24px\",\n          backgroundColor: \"#3c1f41\",\n          minHeight: \"100%\",\n          overflow: \"scroll\",\n        }}\n      >\n        <div className=\"ProfileDrawerHeader\">\n          <Avatar\n            sx={{\n              width: \"130px\",\n              height: \"130px\",\n              display: \"relative\",\n              bottom: \"-40px\",\n            }}\n            src={user && user.profilePicture}\n          />\n        </div>\n        <div className=\"ProfileDrawerBody\">\n          <div className=\"ProfileUserInfo\">\n            <Typography variant=\"h4\" color=\"white\">\n              {user && user.username}\n            </Typography>\n            <Typography variant=\"p\" color=\"white\">\n              {user && user.bio}\n            </Typography>\n          </div>\n          <TabContext value={tab}>\n            <Box>\n              <TabList onChange={handleChange}>\n                <Tab label=\"POSTS\" value={0} sx={{ color: \"white\" }} />\n                <Tab label=\"PINNED\" value={1} sx={{ color: \"white\" }} />\n              </TabList>\n            </Box>\n            <TabPanel value={0}>\n              <Stack spacing={5}>\n                {posts &&\n                  posts.map((post) => (\n                    <Card>\n                      <CardMedia\n                        image={post.content}\n                        component=\"img\"\n                        height=\"200px\"\n                      />\n                      <CardContent>\n                        <Typography>{post.body}</Typography>\n                      </CardContent>\n                      <CardActions>\n                        <IconButton>\n                          <FavoriteIcon />\n                        </IconButton>\n                        <IconButton>\n                          <SmartButtonIcon />\n                        </IconButton>\n                      </CardActions>\n                    </Card>\n                  ))}\n              </Stack>\n            </TabPanel>\n            <TabPanel value={1}>hi again</TabPanel>\n          </TabContext>\n        </div>\n      </Container>\n    </Drawer>\n  );\n};\n\nexport default ProfileDrawer;\n",{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","severity":1,"message":"97","line":21,"column":9,"nodeType":"98","messageId":"99","endLine":21,"endColumn":13},{"ruleId":"96","severity":1,"message":"100","line":29,"column":7,"nodeType":"98","messageId":"99","endLine":29,"endColumn":21},{"ruleId":"96","severity":1,"message":"101","line":12,"column":3,"nodeType":"98","messageId":"99","endLine":12,"endColumn":8},{"ruleId":"96","severity":1,"message":"102","line":13,"column":3,"nodeType":"98","messageId":"99","endLine":13,"endColumn":9},{"ruleId":"96","severity":1,"message":"103","line":22,"column":9,"nodeType":"98","messageId":"99","endLine":22,"endColumn":16},{"ruleId":"104","severity":1,"message":"105","line":20,"column":6,"nodeType":"106","endLine":20,"endColumn":27,"suggestions":"107"},{"ruleId":"96","severity":1,"message":"102","line":2,"column":3,"nodeType":"98","messageId":"99","endLine":2,"endColumn":9},{"ruleId":"96","severity":1,"message":"103","line":22,"column":9,"nodeType":"98","messageId":"99","endLine":22,"endColumn":16},{"ruleId":"96","severity":1,"message":"108","line":22,"column":10,"nodeType":"98","messageId":"99","endLine":22,"endColumn":24},{"ruleId":"96","severity":1,"message":"109","line":22,"column":26,"nodeType":"98","messageId":"99","endLine":22,"endColumn":43},{"ruleId":"92","replacedBy":"110"},{"ruleId":"94","replacedBy":"111"},{"ruleId":"104","severity":1,"message":"112","line":35,"column":6,"nodeType":"106","endLine":35,"endColumn":25,"suggestions":"113"},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'updateUserPost' is assigned a value but never used.","'Input' is defined but never used.","'Avatar' is defined but never used.","'history' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'sessionUser.id'. Either include it or remove the dependency array.","ArrayExpression",["116"],"'uploadProgress' is assigned a value but never used.","'setUploadProgress' is assigned a value but never used.",["114"],["115"],"React Hook useEffect has missing dependencies: 'dispatch' and 'userId'. Either include them or remove the dependency array.",["117"],"no-global-assign","no-unsafe-negation",{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},"Update the dependencies array to be: [dispatch, loadLimit, sessionUser.id]",{"range":"122","text":"123"},"Update the dependencies array to be: [dispatch, profileDrawerOpen, userId]",{"range":"124","text":"125"},[701,722],"[dispatch, loadLimit, sessionUser.id]",[996,1015],"[dispatch, profileDrawerOpen, userId]"]